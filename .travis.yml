group: travis_latest
language: python
sudo: false
dist: trusty

cache:
  pip: true
  directories:
    - .mypy_cache
    
python:
 - '2.7'  # inherited by release-test build stage
 - '3.4'
 - '3.5'
 - '3.6'
 - '3.7'
    
matrix:
  include:
    - python: '3.7'
      dist: xenial
      sudo: true

jobs:
  include:
    - stage: release-test
      script: RELEASE_SKIP=head PYVER= ./release-test.sh
script: tox
install:
  - pip install tox-travis
notifications:
  email: false
