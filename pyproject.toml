[build-system]
requires = ["setuptools>=45", "setuptools_scm[toml]>=6.2", "mypy==0.961", "black>=19.10b0", "types-pkg_resources", "types-requests", "types-dataclasses", "ruamel.yaml>= 0.12.4, != 0.16.6, < 0.18", "types-setuptools"]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]
write_to = "schema_salad/_version.py"

[tool.cibuildwheel]
before-build = "python -m pip install -r requirements.txt -r mypy-requirements.txt"
test-command = "python -m pytest -n 2 --pyargs schema_salad"
test-requires = "-r test-requirements.txt black"
skip = "pp* "
# ^ skip building wheels on pypy
test-skip = "cp*"
# ^ tests skipped to save time
#build-verbosity = "1"
